/* 
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.15
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-rbjQuer-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 *
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
!function(e){"function"==typeof define&&define.amd&&define.amd.rbjQuer?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):rbjQuer)}(function(e){"use strict";function n(n){return!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=c),void 0!==n.click&&void 0===n.tap&&(n.tap=n.click),n||(n={}),n=e.extend({},e.fn.swipe.defaults,n),this.each(function(){var r=e(this),i=r.data(P);i||(i=new t(this,n),r.data(P,i))})}function t(n,t){function r(n){if(!(se()||e(n.target).closest(t.excludedElements,Ye).length>0)){var r,i=n.originalEvent?n.originalEvent:n,l=i.touches,u=l?l[0]:i;return Ve=m,l?We=l.length:t.preventDefaultEvents!==!1&&n.preventDefault(),Ue=0,je=null,Ne=null,Fe=null,He=0,_e=0,qe=0,Qe=1,Ce=0,Xe=ve(),oe(),pe(0,u),!l||We===t.fingers||t.fingers===b||X()?(Ge=Oe(),2==We&&(pe(1,l[1]),_e=qe=be(ze[0].start,ze[1].start)),(t.swipeStatus||t.pinchStatus)&&(r=j(i,Ve))):r=!1,r===!1?(Ve=S,j(i,Ve),r):(t.hold&&(en=setTimeout(e.proxy(function(){Ye.trigger("hold",[i.target]),t.hold&&(r=t.hold.call(Ye,i,i.target))},this),t.longTapThreshold)),ce(!0),null)}}function L(e){var n=e.originalEvent?e.originalEvent:e;if(Ve!==y&&Ve!==S&&!ae()){var r,i=n.touches,l=i?i[0]:n,u=fe(l);if(Ze=Oe(),i&&(We=i.length),t.hold&&clearTimeout(en),Ve=x,2==We&&(0==_e?(pe(1,i[1]),_e=qe=be(ze[0].start,ze[1].start)):(fe(i[1]),qe=be(ze[0].end,ze[1].end),Fe=me(ze[0].end,ze[1].end)),Qe=Ee(_e,qe),Ce=Math.abs(_e-qe)),We===t.fingers||t.fingers===b||!i||X()){if(je=Se(u.start,u.end),Ne=Se(u.last,u.end),C(e,Ne),Ue=xe(u.start,u.end),He=Te(),de(je,Ue),r=j(n,Ve),!t.triggerOnTouchEnd||t.triggerOnTouchLeave){var o=!0;if(t.triggerOnTouchLeave){var a=Me(this);o=De(u.end,a)}!t.triggerOnTouchEnd&&o?Ve=U(x):t.triggerOnTouchLeave&&!o&&(Ve=U(y)),(Ve==S||Ve==y)&&j(n,Ve)}}else Ve=S,j(n,Ve);r===!1&&(Ve=S,j(n,Ve))}}function R(e){var n=e.originalEvent?e.originalEvent:e,r=n.touches;if(r){if(r.length&&!ae())return ue(n),!0;if(r.length&&ae())return!0}return ae()&&(We=Je),Ze=Oe(),He=Te(),_()||!H()?(Ve=S,j(n,Ve)):t.triggerOnTouchEnd||0==t.triggerOnTouchEnd&&Ve===x?(t.preventDefaultEvents!==!1&&e.preventDefault(),Ve=y,j(n,Ve)):!t.triggerOnTouchEnd&&B()?(Ve=y,N(n,Ve,d)):Ve===x&&(Ve=S,j(n,Ve)),ce(!1),null}function k(){We=0,Ze=0,Ge=0,_e=0,qe=0,Qe=1,oe(),ce(!1)}function A(e){var n=e.originalEvent?e.originalEvent:e;t.triggerOnTouchLeave&&(Ve=U(y),j(n,Ve))}function I(){Ye.unbind(Le,r),Ye.unbind(Ie,k),Ye.unbind(Re,L),Ye.unbind(ke,R),Ae&&Ye.unbind(Ae,A),ce(!1)}function U(e){var n=e,r=Q(),i=H(),l=_();return!r||l?n=S:!i||e!=x||t.triggerOnTouchEnd&&!t.triggerOnTouchLeave?!i&&e==y&&t.triggerOnTouchLeave&&(n=S):n=y,n}function j(e,n){var t,r=e.touches;return(z()||W())&&(t=N(e,n,f)),(Y()||X())&&t!==!1&&(t=N(e,n,h)),ie()&&t!==!1?t=N(e,n,g):le()&&t!==!1?t=N(e,n,v):re()&&t!==!1&&(t=N(e,n,d)),n===S&&(W()&&(t=N(e,n,f)),X()&&(t=N(e,n,h)),k(e)),n===y&&(r?r.length||k(e):k(e)),t}function N(n,r,c){var p;if(c==f){if(Ye.trigger("swipeStatus",[r,je||null,Ue||0,He||0,We,ze,Ne]),t.swipeStatus&&(p=t.swipeStatus.call(Ye,n,r,je||null,Ue||0,He||0,We,ze,Ne),p===!1))return!1;if(r==y&&V()){if(clearTimeout($e),clearTimeout(en),Ye.trigger("swipe",[je,Ue,He,We,ze,Ne]),t.swipe&&(p=t.swipe.call(Ye,n,je,Ue,He,We,ze,Ne),p===!1))return!1;switch(je){case i:Ye.trigger("swipeLeft",[je,Ue,He,We,ze,Ne]),t.swipeLeft&&(p=t.swipeLeft.call(Ye,n,je,Ue,He,We,ze,Ne));break;case l:Ye.trigger("swipeRight",[je,Ue,He,We,ze,Ne]),t.swipeRight&&(p=t.swipeRight.call(Ye,n,je,Ue,He,We,ze,Ne));break;case u:Ye.trigger("swipeUp",[je,Ue,He,We,ze,Ne]),t.swipeUp&&(p=t.swipeUp.call(Ye,n,je,Ue,He,We,ze,Ne));break;case o:Ye.trigger("swipeDown",[je,Ue,He,We,ze,Ne]),t.swipeDown&&(p=t.swipeDown.call(Ye,n,je,Ue,He,We,ze,Ne))}}}if(c==h){if(Ye.trigger("pinchStatus",[r,Fe||null,Ce||0,He||0,We,Qe,ze]),t.pinchStatus&&(p=t.pinchStatus.call(Ye,n,r,Fe||null,Ce||0,He||0,We,Qe,ze),p===!1))return!1;if(r==y&&F())switch(Fe){case a:Ye.trigger("pinchIn",[Fe||null,Ce||0,He||0,We,Qe,ze]),t.pinchIn&&(p=t.pinchIn.call(Ye,n,Fe||null,Ce||0,He||0,We,Qe,ze));break;case s:Ye.trigger("pinchOut",[Fe||null,Ce||0,He||0,We,Qe,ze]),t.pinchOut&&(p=t.pinchOut.call(Ye,n,Fe||null,Ce||0,He||0,We,Qe,ze))}}return c==d?(r===S||r===y)&&(clearTimeout($e),clearTimeout(en),J()&&!ee()?(Ke=Oe(),$e=setTimeout(e.proxy(function(){Ke=null,Ye.trigger("tap",[n.target]),t.tap&&(p=t.tap.call(Ye,n,n.target))},this),t.doubleTapThreshold)):(Ke=null,Ye.trigger("tap",[n.target]),t.tap&&(p=t.tap.call(Ye,n,n.target)))):c==g?(r===S||r===y)&&(clearTimeout($e),clearTimeout(en),Ke=null,Ye.trigger("doubletap",[n.target]),t.doubleTap&&(p=t.doubleTap.call(Ye,n,n.target))):c==v&&(r===S||r===y)&&(clearTimeout($e),Ke=null,Ye.trigger("longtap",[n.target]),t.longTap&&(p=t.longTap.call(Ye,n,n.target))),p}function H(){var e=!0;return null!==t.threshold&&(e=Ue>=t.threshold),e}function _(){var e=!1;return null!==t.cancelThreshold&&null!==je&&(e=ge(je)-Ue>=t.cancelThreshold),e}function q(){return null!==t.pinchThreshold?Ce>=t.pinchThreshold:!0}function Q(){var e;return e=t.maxTimeThreshold&&He>=t.maxTimeThreshold?!1:!0}function C(e,n){if(t.preventDefaultEvents!==!1)if(t.allowPageScroll===c)e.preventDefault();else{var r=t.allowPageScroll===p;switch(n){case i:(t.swipeLeft&&r||!r&&t.allowPageScroll!=w)&&e.preventDefault();break;case l:(t.swipeRight&&r||!r&&t.allowPageScroll!=w)&&e.preventDefault();break;case u:(t.swipeUp&&r||!r&&t.allowPageScroll!=T)&&e.preventDefault();break;case o:(t.swipeDown&&r||!r&&t.allowPageScroll!=T)&&e.preventDefault()}}}function F(){var e=G(),n=Z(),t=q();return e&&n&&t}function X(){return!!(t.pinchStatus||t.pinchIn||t.pinchOut)}function Y(){return!(!F()||!X())}function V(){var e=Q(),n=H(),t=G(),r=Z(),i=_(),l=!i&&r&&t&&n&&e;return l}function W(){return!!(t.swipe||t.swipeStatus||t.swipeLeft||t.swipeRight||t.swipeUp||t.swipeDown)}function z(){return!(!V()||!W())}function G(){return We===t.fingers||t.fingers===b||!O}function Z(){return 0!==ze[0].end.x}function B(){return!!t.tap}function J(){return!!t.doubleTap}function K(){return!!t.longTap}function $(){if(null==Ke)return!1;var e=Oe();return J()&&e-Ke<=t.doubleTapThreshold}function ee(){return $()}function ne(){return(1===We||!O)&&(isNaN(Ue)||Ue<t.threshold)}function te(){return He>t.longTapThreshold&&E>Ue}function re(){return!(!ne()||!B())}function ie(){return!(!$()||!J())}function le(){return!(!te()||!K())}function ue(e){Be=Oe(),Je=e.touches.length+1}function oe(){Be=0,Je=0}function ae(){var e=!1;if(Be){var n=Oe()-Be;n<=t.fingerReleaseThreshold&&(e=!0)}return e}function se(){return!(Ye.data(P+"_intouch")!==!0)}function ce(e){Ye&&(e===!0?(Ye.bind(Re,L),Ye.bind(ke,R),Ae&&Ye.bind(Ae,A)):(Ye.unbind(Re,L,!1),Ye.unbind(ke,R,!1),Ae&&Ye.unbind(Ae,A,!1)),Ye.data(P+"_intouch",e===!0))}function pe(e,n){var t={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return t.start.x=t.last.x=t.end.x=n.pageX||n.clientX,t.start.y=t.last.y=t.end.y=n.pageY||n.clientY,ze[e]=t,t}function fe(e){var n=void 0!==e.identifier?e.identifier:0,t=he(n);return null===t&&(t=pe(n,e)),t.last.x=t.end.x,t.last.y=t.end.y,t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function he(e){return ze[e]||null}function de(e,n){n=Math.max(n,ge(e)),Xe[e].distance=n}function ge(e){return Xe[e]?Xe[e].distance:void 0}function ve(){var e={};return e[i]=we(i),e[l]=we(l),e[u]=we(u),e[o]=we(o),e}function we(e){return{direction:e,distance:0}}function Te(){return Ze-Ge}function be(e,n){var t=Math.abs(e.x-n.x),r=Math.abs(e.y-n.y);return Math.round(Math.sqrt(t*t+r*r))}function Ee(e,n){var t=n/e*1;return t.toFixed(2)}function me(){return 1>Qe?s:a}function xe(e,n){return Math.round(Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)))}function ye(e,n){var t=e.x-n.x,r=n.y-e.y,i=Math.atan2(r,t),l=Math.round(180*i/Math.PI);return 0>l&&(l=360-Math.abs(l)),l}function Se(e,n){var t=ye(e,n);return 45>=t&&t>=0?i:360>=t&&t>=315?i:t>=135&&225>=t?l:t>45&&135>t?o:u}function Oe(){var e=new Date;return e.getTime()}function Me(n){n=e(n);var t=n.offset(),r={left:t.left,right:t.left+n.outerWidth(),top:t.top,bottom:t.top+n.outerHeight()};return r}function De(e,n){return e.x>n.left&&e.x<n.right&&e.y>n.top&&e.y<n.bottom}var t=e.extend({},t),Pe=O||D||!t.fallbackToMouseEvents,Le=Pe?D?M?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Re=Pe?D?M?"MSPointerMove":"pointermove":"touchmove":"mousemove",ke=Pe?D?M?"MSPointerUp":"pointerup":"touchend":"mouseup",Ae=Pe?D?"mouseleave":null:"mouseleave",Ie=D?M?"MSPointerCancel":"pointercancel":"touchcancel",Ue=0,je=null,Ne=null,He=0,_e=0,qe=0,Qe=1,Ce=0,Fe=0,Xe=null,Ye=e(n),Ve="start",We=0,ze={},Ge=0,Ze=0,Be=0,Je=0,Ke=0,$e=null,en=null;try{Ye.bind(Le,r),Ye.bind(Ie,k)}catch(nn){e.error("events not supported "+Le+","+Ie+" on rbjQuer.swipe")}this.enable=function(){return Ye.bind(Le,r),Ye.bind(Ie,k),Ye},this.disable=function(){return I(),Ye},this.destroy=function(){I(),Ye.data(P,null),Ye=null},this.option=function(n,r){if("object"==typeof n)t=e.extend(t,n);else if(void 0!==t[n]){if(void 0===r)return t[n];t[n]=r}else{if(!n)return t;e.error("Option "+n+" does not exist on rbjQuer.swipe.options")}return null}}var r="1.6.15",i="left",l="right",u="up",o="down",a="in",s="out",c="none",p="auto",f="swipe",h="pinch",d="tap",g="doubletap",v="longtap",w="horizontal",T="vertical",b="all",E=10,m="start",x="move",y="end",S="cancel",O="ontouchstart"in window,M=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!O,D=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!O,P="TouchSwipe",L={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(t){var r=e(this),i=r.data(P);if(i&&"string"==typeof t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" does not exist on rbjQuer.swipe")}else if(i&&"object"==typeof t)i.option.apply(this,arguments);else if(!(i||"object"!=typeof t&&t))return n.apply(this,arguments);return r},e.fn.swipe.version=r,e.fn.swipe.defaults=L,e.fn.swipe.phases={PHASE_START:m,PHASE_MOVE:x,PHASE_END:y,PHASE_CANCEL:S},e.fn.swipe.directions={LEFT:i,RIGHT:l,UP:u,DOWN:o,IN:a,OUT:s},e.fn.swipe.pageScroll={NONE:c,HORIZONTAL:w,VERTICAL:T,AUTO:p},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:b}});